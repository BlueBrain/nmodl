<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Currents &mdash; NMODL 0.6 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ions" href="ions.html" />
    <link rel="prev" title="Visitors" href="visitors.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            NMODL
          </a>
              <div class="version">
                0.6
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">The NMODL Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install.html">Installing the NMODL Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language.html">The NEURON MODeling language</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="visitors.html">Visitors</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Currents</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#nmodl-keywords">NMODL Keywords</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#nonspecific-current">NONSPECIFIC_CURRENT</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ions.html">Ions</a></li>
<li class="toctree-l1"><a class="reference internal" href="pointers.html">NMODL “pointers”</a></li>
<li class="toctree-l1"><a class="reference internal" href="cable_equations.html">Cable Equation</a></li>
<li class="toctree-l1"><a class="reference internal" href="globals.html">Global Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="longitudinal_diffusion.html">Longitudinal Diffusion</a></li>
<li class="toctree-l1"><a class="reference internal" href="cvode.html">Variable timestep integration (CVODE)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Jupyter Notebooks:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebooks.html">The NMODL Jupyter notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-python-tutorial.html">NMODL Python Interface Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-odes-overview.html">NMODL integration of ODEs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-kinetic-schemes.html">NMODL Kinetic Scheme</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-sympy-solver-cnexp.html">NMODL SympySolver - cnexp</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-sympy-solver-sparse.html">NMODL SympySolver - sparse</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-sympy-solver-derivimplicit.html">NMODL SympySolver - derivimplicit</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-linear-solver.html">NMODL LINEAR solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-nonlinear-solver.html">NMODL NONLINEAR solver</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebooks/nmodl-sympy-conductance.html">NMODL CONDUCTANCE</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing to the NMODL Framework</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Python package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doxygen.html">C++ API</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NMODL</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Currents</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/contents/currents.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="currents">
<h1>Currents<a class="headerlink" href="#currents" title="Permalink to this heading"></a></h1>
<p>Current refer to the part of the membrane currents due to mechanisms. Meaning
the represent the rate at which charge crosses the membrane, e.g. due to ions
passing through ion channels. In Figure 1 we show the electrical circuit for a
couple of segments near a branch point. The effect of the capacitor (when
present) is handled by NEURON internally. In MOD files we compute the current
represented by the white box, labeled <code class="docutils literal notranslate"><span class="pre">I</span></code>. This total current is the sum of
one current per mechanism. The current per mechanism in turn is the sum of
non-specific currents and ion currents, see Figure 2.</p>
<figure class="align-default" id="id1">
<img alt="../_images/currents_circuit.svg" src="../_images/currents_circuit.svg" /><figcaption>
<p><span class="caption-text">Figure 1: Wiring diagram of four segments near a branch point. The circuit for computing the total trans-membrane current. For nodes representing a segment with non-zero aread the circuit for total trans-membrane current consists of a capacitor and currents due to mechanisms (labelled <code class="docutils literal notranslate"><span class="pre">I</span></code>). The nodes with zero-area, the there’s no capacitor, but point-processes, can still introduce current at that point.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id2">
<img alt="../_images/currents_types.svg" src="../_images/currents_types.svg" /><figcaption>
<p><span class="caption-text">Figure 2: A detailed view of the the current <code class="docutils literal notranslate"><span class="pre">I</span></code> due to mechanisms. The current <code class="docutils literal notranslate"><span class="pre">I</span></code> is the sum of one total current per mechanism, illustrated as boxes of different colors. For each mechanism the total current consists of nonspecific currents (<code class="docutils literal notranslate"><span class="pre">i1</span></code>) and ion currents (<code class="docutils literal notranslate"><span class="pre">ina</span></code> and <code class="docutils literal notranslate"><span class="pre">ica</span></code>), illustrated only in the light yellow box.</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>There’s a total current, required by the cable equation, which is discussed
here. The rate at which ions cross the membrane, called ion currents, can be
computed for individual ions, separately. Please check the documentation on
Ions.</p>
<section id="nmodl-keywords">
<h2>NMODL Keywords<a class="headerlink" href="#nmodl-keywords" title="Permalink to this heading"></a></h2>
<section id="nonspecific-current">
<h3>NONSPECIFIC_CURRENT<a class="headerlink" href="#nonspecific-current" title="Permalink to this heading"></a></h3>
<p>A nonspecific current is how an additive current contribution is expressed that’s not accociated with any specific ion. It has the following syntax</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">NEURON</span> <span class="p">{</span>
    <span class="n">NONSPECIFIC_CURRENT</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We’ll assume the name is <code class="docutils literal notranslate"><span class="pre">i1</span></code>.</p>
<p>Since it needs to be assigned a value in the MOD file, it needs to also be listed in the <code class="docutils literal notranslate"><span class="pre">ASSIGNED</span></code> block, e.g. as follows (units show are for a density mechanism).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ASSIGNED</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">(</span><span class="n">mA</span><span class="o">/</span><span class="n">cm2</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The nonspecific current is local to the mechanism and can be stored as a
regular range variable.</p>
<p>The generated code must ensure the following:</p>
<ol class="arabic simple">
<li><p>The total current contribution is updated by <code class="docutils literal notranslate"><span class="pre">i1</span></code>.</p></li>
<li><p>Continue with the remaining current related computations, such as the finite
difference for computing <code class="docutils literal notranslate"><span class="pre">dI/dv</span></code>.</p></li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="visitors.html" class="btn btn-neutral float-left" title="Visitors" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ions.html" class="btn btn-neutral float-right" title="Ions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019, BlueBrain HPC team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>